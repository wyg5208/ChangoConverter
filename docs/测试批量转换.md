# 测试批量转换功能

## 测试准备

为了测试批量转换功能，请按以下步骤操作：

### 1. 创建测试文件夹结构

```
test_batch_convert/
├── README.md
├── docs/
│   ├── guide.md
│   └── tutorial.md
└── notes/
    ├── daily/
    │   └── 2024-01.md
    └── project.md
```

### 2. 创建测试文件

可以在每个.md文件中添加简单内容，例如：

**README.md**
```markdown
# 测试文档

这是一个测试文档，用于验证批量转换功能。

## 功能特点

- 自动扫描子文件夹
- 支持多种格式转换
- 保持目录结构
```

### 3. 运行测试

1. 启动程序
2. 选择"批量转换（文件夹）"
3. 浏览并选择 `test_batch_convert` 文件夹
4. 勾选输出格式（建议先测试HTML和TXT，速度快）：
   - ✅ HTML 5
   - ✅ Plain Text
5. 点击"开始转换"

### 4. 验证结果

转换完成后，检查文件夹结构应该是：

```
test_batch_convert/
├── README.md
├── README.html       ← 新生成
├── README.txt        ← 新生成
├── docs/
│   ├── guide.md
│   ├── guide.html    ← 新生成
│   ├── guide.txt     ← 新生成
│   ├── tutorial.md
│   ├── tutorial.html ← 新生成
│   └── tutorial.txt  ← 新生成
└── notes/
    ├── daily/
    │   ├── 2024-01.md
    │   ├── 2024-01.html ← 新生成
    │   └── 2024-01.txt  ← 新生成
    ├── project.md
    ├── project.html  ← 新生成
    └── project.txt   ← 新生成
```

### 5. 检查日志

日志应该显示类似信息：

```
============================================================
批量转换模式
扫描目录: D:/test_batch_convert
目标格式: html5, plain
============================================================

正在扫描文件夹及子文件夹...
✓ 找到 5 个文件待转换

[1/5] 处理: D:/test_batch_convert/README.md
    格式: markdown
    ✓ html5 → D:/test_batch_convert/README.html
    ✓ plain → D:/test_batch_convert/README.txt

[2/5] 处理: D:/test_batch_convert/docs/guide.md
    格式: markdown
    ✓ html5 → D:/test_batch_convert/docs/guide.html
    ✓ plain → D:/test_batch_convert/docs/guide.txt

...

============================================================
批量转换完成!
处理文件: 5 个
总转换数: 10 次
成功: 10 次, 失败: 0 次
============================================================
```

## 测试场景

### 场景1：基本功能测试
- 创建3-5个Markdown文件
- 转换为HTML和TXT
- 验证所有文件都被正确转换

### 场景2：深层目录测试
- 创建多层嵌套的文件夹（3-4层）
- 在不同层级放置文件
- 验证所有层级的文件都被找到并转换

### 场景3：混合格式测试
- 在文件夹中放置不同格式的文件（.md, .html, .docx等）
- 转换为统一的输出格式
- 验证所有支持的格式都被正确识别和转换

### 场景4：多格式输出测试
- 选择5-6种不同的输出格式
- 验证每个源文件都生成了所有选定的格式

### 场景5：PDF转换测试（需要LaTeX）
- 如果已安装LaTeX
- 勾选PDF输出格式
- 验证PDF文件正确生成

## 预期结果

✅ 所有源文件都被找到
✅ 所有文件都转换成功
✅ 转换后的文件保存在源文件所在的文件夹
✅ 目录结构保持不变
✅ 源文件未被修改或删除
✅ 日志显示详细的转换过程
✅ 统计信息准确

## 故障排除

如果测试失败，检查：

1. **Pandoc是否正确安装**
   - 点击"重新检测"按钮
   - 确认Pandoc状态显示为绿色✓

2. **文件格式是否支持**
   - 查看支持的格式列表
   - 确认文件扩展名正确

3. **文件是否被占用**
   - 关闭正在使用这些文件的其他程序
   - 重新尝试转换

4. **磁盘空间是否充足**
   - 确保有足够的磁盘空间存储输出文件

5. **权限问题**
   - 确认对文件夹有读写权限

## 成功标准

- ✅ 程序不崩溃
- ✅ 所有文件都被正确识别
- ✅ 转换成功率100%
- ✅ 输出文件位置正确
- ✅ 日志信息清晰完整
- ✅ 进度显示正常

---

**测试完成后，请清理测试文件夹！**



