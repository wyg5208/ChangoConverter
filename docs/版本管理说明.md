# 版本管理说明

## 📋 文件说明

本项目使用专门的版本管理文件来维护版本信息和项目文档。

### 核心文件

| 文件 | 说明 | 用途 |
|------|------|------|
| `version.py` | 版本信息文件 | 维护版本号、更新历史、功能特性 |
| `README.md` | 项目说明文档 | 项目介绍、使用指南、快速开始 |
| `app_all_function.py` | 主程序文件 | 从 version.py 导入版本号 |

---

## 🔢 version.py 文件说明

### 主要内容

1. **VERSION** - 当前版本号
   ```python
   VERSION = "1.3.1"
   ```

2. **VERSION_HISTORY** - 版本历史记录
   - 每个版本的更新日期
   - 更新类型
   - 详细的更新内容
   - 功能亮点

3. **FEATURES** - 功能特性列表
   - 核心功能描述
   - 图标化展示

4. **TECH_STACK** - 技术栈信息
   - 使用的语言和框架
   - 依赖库列表

5. **REQUIREMENTS** - 系统要求
   - Python 版本
   - Pandoc 版本
   - 操作系统支持

6. **SUPPORTED_FORMATS** - 支持的格式
   - 输入格式列表
   - 输出格式列表

7. **ROADMAP** - 未来更新计划
   - 计划中的功能
   - 待开发特性

### 使用方法

#### 1. 查看当前版本

```python
from version import get_version

print(f"当前版本: {get_version()}")
```

#### 2. 查看版本历史

```python
from version import print_version_history

print_version_history()
```

#### 3. 获取完整信息

```python
from version import get_version_info

info = get_version_info()
print(info['version'])
print(info['features'])
print(info['history'])
```

#### 4. 在程序中使用

```python
# app_all_function.py 中的用法
try:
    from version import VERSION
except ImportError:
    VERSION = "1.3.1"  # 备用版本号

class AdvancedPandocConverter:
    VERSION = VERSION
```

---

## 📖 README.md 文件说明

### 主要章节

1. **简介** - 项目概述和优势
2. **功能特性** - 核心功能和界面优势
3. **快速开始** - 安装和运行指南
4. **使用指南** - 详细的使用说明
5. **支持的格式** - 输入输出格式列表
6. **使用场景** - 典型应用场景和推荐配置
7. **配置示例** - 各种场景的配置示例
8. **更新日志** - 版本更新记录
9. **常见问题** - FAQ 和问题解答
10. **更新计划** - 未来功能规划

### 特点

- ✅ Markdown 格式，易于阅读和维护
- ✅ 徽章（Badges）显示版本、平台等信息
- ✅ 目录导航，快速定位内容
- ✅ 表格展示，信息清晰
- ✅ 代码示例，便于理解
- ✅ 图标化展示，视觉友好

---

## 🔄 版本更新流程

### 1. 更新版本号

当发布新版本时，按以下步骤更新：

#### 步骤 1: 更新 version.py

```python
# 修改当前版本号
VERSION = "1.3.2"  # 新版本号

# 在 VERSION_HISTORY 最前面添加新版本记录
VERSION_HISTORY = [
    {
        "version": "1.3.2",
        "date": "2024-10-24",
        "type": "bug修复",
        "changes": [
            "修复xxx问题",
            "优化xxx功能"
        ],
        "highlights": [
            "⭐ 关键修复说明"
        ]
    },
    # ... 旧版本记录
]
```

#### 步骤 2: 更新 README.md

在"更新日志"章节最前面添加新版本：

```markdown
### v1.3.2 (2024-10-24) - Bug修复

#### 修复
- 修复xxx问题
- 优化xxx功能

#### 改进
- 性能提升
```

#### 步骤 3: 创建版本说明文档（可选）

对于重大更新，创建详细的版本说明文档：

```
v1.3.2更新说明.md
v1.3.2快速参考.txt
```

#### 步骤 4: 测试验证

```bash
# 测试版本号导入
python -c "from version import get_version; print(get_version())"

# 测试主程序
python app_all_function.py
```

### 2. 版本命名规范

使用语义化版本号：`主版本.次版本.修订号`

- **主版本号 (Major)**: 重大架构变更，不向后兼容
  - 示例: 1.0.0 → 2.0.0

- **次版本号 (Minor)**: 新增功能，向后兼容
  - 示例: 1.3.0 → 1.4.0

- **修订号 (Patch)**: Bug 修复，小优化
  - 示例: 1.3.1 → 1.3.2

### 3. 更新类型分类

| 类型 | 说明 | 示例 |
|------|------|------|
| **重大更新** | 架构重构、核心功能变更 | v2.0.0 |
| **功能更新** | 新增重要功能 | v1.4.0 |
| **界面优化** | UI/UX 改进 | v1.3.0 |
| **细节优化** | 小改进、小优化 | v1.3.1 |
| **Bug修复** | 修复已知问题 | v1.3.2 |
| **性能优化** | 性能提升 | v1.3.3 |

---

## 📝 文档维护规范

### 1. version.py 维护

**更新频率**: 每次版本发布

**必须更新的内容**:
- `VERSION` 变量
- `VERSION_HISTORY` 列表（在最前面添加）

**可选更新的内容**:
- `FEATURES` - 新功能时更新
- `ROADMAP` - 完成功能时移除，新计划时添加
- `SUPPORTED_FORMATS` - 格式支持变化时更新

### 2. README.md 维护

**更新频率**: 每次版本发布 + 内容变化时

**必须更新的内容**:
- 版本徽章（Version Badge）
- "更新日志"章节

**需要更新的内容**:
- "功能特性" - 新功能时
- "使用指南" - 功能变化时
- "常见问题" - 新问题时
- "更新计划" - 路线图变化时

### 3. 版本说明文档维护

**创建时机**:
- 重大更新（主版本、次版本）
- 重要功能更新
- 界面大改版

**文档类型**:
- `v{版本号}更新说明.md` - 详细说明文档
- `v{版本号}快速参考.txt` - 快速参考指南

---

## 🎯 最佳实践

### 1. 版本号管理

✅ **推荐做法**:
- 集中管理版本号（version.py）
- 主程序导入版本号（避免硬编码）
- 使用语义化版本号
- 每次发布都更新版本记录

❌ **避免做法**:
- 在多处硬编码版本号
- 跳版本号或版本号混乱
- 忘记更新版本历史
- 版本说明不清晰

### 2. 文档编写

✅ **推荐做法**:
- 使用清晰的标题和章节
- 提供代码示例
- 使用表格和列表
- 添加图标和徽章
- 保持格式一致

❌ **避免做法**:
- 文档过于简单或过于复杂
- 缺少示例和说明
- 格式混乱
- 内容过时不更新

### 3. 版本发布

✅ **推荐做法**:
- 更新所有相关文档
- 创建版本说明（重要更新）
- 测试验证
- 记录更新日志

❌ **避免做法**:
- 只改代码不更新文档
- 版本说明不清晰
- 缺少测试
- 忘记记录重要变更

---

## 🔍 版本信息查看

### 命令行查看

```bash
# 查看版本号
python -c "from version import VERSION; print(VERSION)"

# 查看版本历史
python version.py

# 查看完整信息
python -c "from version import get_version_info; import json; print(json.dumps(get_version_info(), indent=2, ensure_ascii=False))"
```

### 程序内查看

在主界面标题栏会显示版本号：

```
Pandoc 全功能文档转换器  v1.3.1
```

---

## 📦 文件组织

### 版本相关文件

```
项目根目录/
├── version.py                       # 版本信息文件 ⭐
├── README.md                        # 项目说明文档 ⭐
├── 版本管理说明.md                  # 本文件
│
├── 更新日志_v1.2.0.md               # 历史版本说明
├── UI界面优化说明_v1.3.0.md
├── v1.3.1界面细节优化说明.md
│
├── v1.3.0优化快速参考.txt           # 历史快速参考
├── v1.3.1优化快速参考.txt
│
└── 快速使用指南_v1.1.0.txt         # 其他文档
```

### 文件命名规范

- **版本信息**: `version.py`
- **主说明文档**: `README.md`
- **版本详细说明**: `v{版本号}更新说明.md` 或 `{功能名}_v{版本号}.md`
- **快速参考**: `v{版本号}快速参考.txt` 或 `{功能名}_快速参考.txt`
- **功能说明**: `{功能名}说明.md` 或 `{功能名}使用指南.md`

---

## 🚀 快速参考

### 发布新版本检查清单

- [ ] 更新 `version.py` 中的 `VERSION`
- [ ] 在 `VERSION_HISTORY` 中添加新版本记录
- [ ] 更新 `README.md` 中的版本徽章
- [ ] 在 `README.md` 更新日志中添加新版本
- [ ] 创建版本说明文档（重要更新）
- [ ] 测试版本号导入和显示
- [ ] 测试主程序功能
- [ ] 提交代码和文档

### 常用命令

```bash
# 查看版本
python -c "from version import VERSION; print(VERSION)"

# 查看历史
python version.py

# 运行程序
python app_all_function.py

# 安装依赖
pip install -r requirements_build.txt
```

---

## 📞 维护建议

### 定期维护

- **每月**: 检查 ROADMAP，更新功能进度
- **每次更新**: 及时更新版本信息和文档
- **每季度**: 整理历史文档，归档旧版本说明

### 文档质量

- 保持文档简洁清晰
- 及时更新过时内容
- 添加示例和图片
- 收集用户反馈

---

**让版本管理更规范、文档维护更轻松！** ✨

最后更新: 2024-10-23



